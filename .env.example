# ── Required ──────────────────────────────────────────────────────────────────

# Anthropic API key — get one at https://console.anthropic.com
ANTHROPIC_API_KEY=sk-ant-...


# ── Model ─────────────────────────────────────────────────────────────────────

# Claude model used for the agent loop AND visual validation.
# claude-opus-4-6 gives best diagram quality; claude-sonnet-4-5-20250929 is faster/cheaper.
# Default: claude-opus-4-6
DIAGRAM_MODEL=claude-opus-4-6


# ── External binary paths ─────────────────────────────────────────────────────

# Full path to pdflatex (only needed for TikZ diagrams).
# If pdflatex is already on PATH, you can leave this unset.
# Default: pdflatex
PDFLATEX_PATH=pdflatex

# Full path to the Graphviz `dot` binary (only needed for Graphviz diagrams).
# If dot is already on PATH, you can leave this unset.
# Default: dot
DOT_PATH=dot


# ── Agent behaviour ───────────────────────────────────────────────────────────

# Maximum number of Claude API round-trips per request.
# Each render attempt + inspection counts as ~2 turns.
# Default: 20
MAX_AGENT_TURNS=20

# Maximum number of repair attempts before giving up.
# Default: 3
MAX_REPAIR_ATTEMPTS=3

# Visual validation score threshold (0–10). Scores below this trigger a repair.
# Default: 7.0
VISUAL_SCORE_THRESHOLD=7.0


# ── Timeouts (seconds) ────────────────────────────────────────────────────────

# Timeout for pdflatex and Graphviz subprocesses.
# Default: 60
RENDER_TIMEOUT=60

# Timeout for the sandboxed Matplotlib subprocess.
# Default: 30
SANDBOX_TIMEOUT=30
