# ── Provider ──────────────────────────────────────────────────────────────────

# API provider: "anthropic" (default) or "openai" (any OpenAI-compatible endpoint).
# Default: anthropic
API_PROVIDER=anthropic

# Anthropic API key — required when API_PROVIDER=anthropic
# Get one at https://console.anthropic.com
ANTHROPIC_API_KEY=sk-ant-...

# OpenAI-compatible settings — required when API_PROVIDER=openai
# OPENAI_API_KEY: your key for OpenAI, Together AI, Ollama, LiteLLM, etc.
# OPENAI_BASE_URL: leave unset for api.openai.com, or set for any compatible endpoint.
#   Examples:
#     https://api.together.xyz/v1
#     http://localhost:11434/v1   (Ollama)
#     http://localhost:4000       (LiteLLM proxy)
OPENAI_API_KEY=sk-...
OPENAI_BASE_URL=


# ── Model ─────────────────────────────────────────────────────────────────────

# Model used for the agent loop AND visual validation.
# Anthropic default: claude-opus-4-6 (best quality), claude-sonnet-4-5-20250929 (cheaper).
# OpenAI examples: gpt-4o, gpt-4-turbo, or any compatible model name.
# Default: claude-opus-4-6
DIAGRAM_MODEL=claude-opus-4-6


# ── External binary paths ─────────────────────────────────────────────────────

# Full path to pdflatex (only needed for TikZ diagrams).
# If pdflatex is already on PATH, you can leave this unset.
# Default: pdflatex
PDFLATEX_PATH=pdflatex

# Full path to the Graphviz `dot` binary (only needed for Graphviz diagrams).
# If dot is already on PATH, you can leave this unset.
# Default: dot
DOT_PATH=dot


# ── Agent behaviour ───────────────────────────────────────────────────────────

# Maximum number of Claude API round-trips per request.
# Each render attempt + inspection counts as ~2 turns.
# Default: 20
MAX_AGENT_TURNS=20

# Maximum number of repair attempts before giving up.
# Default: 3
MAX_REPAIR_ATTEMPTS=3

# Visual validation score threshold (0–10). Scores below this trigger a repair.
# Default: 7.0
VISUAL_SCORE_THRESHOLD=7.0


# ── Timeouts (seconds) ────────────────────────────────────────────────────────

# Timeout for pdflatex and Graphviz subprocesses.
# Default: 60
RENDER_TIMEOUT=60

# Timeout for the sandboxed Matplotlib subprocess.
# Default: 30
SANDBOX_TIMEOUT=30
